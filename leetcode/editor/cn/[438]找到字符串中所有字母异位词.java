//ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„ å¼‚ä½è¯ çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚ 
//
// å¼‚ä½è¯ æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1: 
//
// 
//è¾“å…¥: s = "cbaebabacd", p = "abc"
//è¾“å‡º: [0,6]
//è§£é‡Š:
//èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
//èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
// 
//
// ç¤ºä¾‹ 2: 
//
// 
//è¾“å…¥: s = "abab", p = "ab"
//è¾“å‡º: [0,1,2]
//è§£é‡Š:
//èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
//èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
//èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
// 
//
// 
//
// æç¤º: 
//
// 
// 1 <= s.length, p.length <= 3 * 10â´ 
// s å’Œ p ä»…åŒ…å«å°å†™å­—æ¯ 
// 
//
// Related Topics å“ˆå¸Œè¡¨ å­—ç¬¦ä¸² æ»‘åŠ¨çª—å£ ğŸ‘ 1055 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
//æ»‘åŠ¨çª—å£
class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> list = new ArrayList<Integer>();
        if(p.length() > s.length()) return  list; // Base Condition

        int N=s.length(); // Array1 of s
        int M=p.length(); // Array2 of p
        int[]count = freq(p); // intialize only 1 time

        int[]currentCount = freq(s.substring(0, M)); // freq function, update every-time according to sliding window

        if(areSame(count,currentCount)) // areSame function
            list.add(0);

        int i;
        for(i=M;i<N;i++){ // going from 3 to 9 in above example
            currentCount[s.charAt(i-M) - 'a']--; // blue pointer, decrement frequency
            currentCount[s.charAt(i)-'a']++; // red pointer, increment frequency
            if(areSame(count,currentCount)){ // now check, both array are same
                list.add(i-M+1); // if we find similar add their index in our list
            }
        }
        return list;
    }
    private boolean areSame(int[] x, int[] y){
        for(int i = 0; i < 26; i++){
            if(x[i] != y[i]) // compare all the frequency & doesnn't find any di-similar frequency return true otherwise false
                return false;
        }

        return true;
    }
    private int[] freq(String s){
        int[] count = new int[26]; // create array of size 26
        for(int i = 0; i < s.length(); i++){
            count[s.charAt(i) - 'a']++; // update acc. to it's frequency
        }

        return count; // and return count
    }
}

//leetcode submit region end(Prohibit modification and deletion)
